<!DOCTYPE html>
<html lang="en" class="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>All Restaurants | Foodie Heaven</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    <script>
        tailwind.config = {
            darkMode: 'class',
        }
    </script>
    <style>
        body { font-family: 'Poppins', sans-serif; }
        .restaurant-card:hover { 
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }
        .search-input:focus {
            border-color: #f97316;
            box-shadow: 0 0 0 3px rgba(249, 115, 22, 0.2);
        }
     
        .glass-badge {
            background: rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.3);
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
        }
        
        .glass-badge:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateY(-2px) scale(1.05);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
        }
        
        /* Dark mode support */
        .dark .glass-badge {
            background: rgba(0, 0, 0, 0.2);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .dark .glass-badge:hover {
            background: rgba(0, 0, 0, 0.3);
        }

        /* Navbar link styles */
        .nav-link {
            color: #374151;
            transition: color 0.3s;
        }
        
        .dark .nav-link {
            color: #d1d5db;
        }
        
        .nav-link:hover {
            color: #3b82f6;
        }
        
        .dark .nav-link:hover {
            color: #60a5fa;
        }
        
        .nav-link-mobile {
            color: #374151;
            transition: color 0.3s;
        }
        
        .dark .nav-link-mobile {
            color: #d1d5db;
        }
        
        .nav-link-mobile:hover {
            color: #3b82f6;
        }
        
        .dark .nav-link-mobile:hover {
            color: #60a5fa;
        }
        
        .cart-badge {
            position: absolute;
            top: -8px;
            right: -8px;
            background-color: #ef4444;
            color: white;
            border-radius: 50%;
            width: 18px;
            height: 18px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.7rem;
            font-weight: bold;
        }
        
        .dark-mode-toggle {
            color: #374151;
            transition: color 0.3s;
        }
        
        .dark .dark-mode-toggle {
            color: #d1d5db;
        }
        
        .dark-mode-toggle:hover {
            color: #3b82f6;
        }
        
        .dark .dark-mode-toggle:hover {
            color: #60a5fa;
        }


    /* New animation styles */
@keyframes glow {
    0%, 100% { 
        box-shadow: 0 0 5px rgba(59, 130, 246, 0.5), 
                   0 0 10px rgba(59, 130, 246, 0.3);
    }
    50% { 
        box-shadow: 0 0 15px rgba(59, 130, 246, 0.7), 
                   0 0 25px rgba(59, 130, 246, 0.5),
                   0 0 35px rgba(59, 130, 246, 0.3);
    }
}

@keyframes float {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-5px); }
}

.glow-effect {
    animation: glow 2s ease-in-out infinite;
}

.float-effect {
    animation: float 3s ease-in-out infinite;
}

.text-shine {
    background: linear-gradient(90deg, #ff7700, #ffd700, #ff7700);
    background-size: 200% auto;
    background-clip: text;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    animation: shine 3s linear infinite;
}

@keyframes shine {
    to {
        background-position: 200% center;
    }
} 
@keyframes spin {
    0% { transform: rotate(0deg) scale(1); opacity: 0.7; }
    50% { transform: rotate(180deg) scale(1.5); opacity: 1; }
    100% { transform: rotate(360deg) scale(1); opacity: 0.7; }
}
    </style>
</head>
<body class="bg-gray-50 dark:bg-gray-900">
    <!-- Navbar -->
    <nav class="bg-white dark:bg-gray-800 shadow-lg sticky top-0 z-50">
        <div class="container mx-auto px-4">
            <div class="flex justify-between items-center py-3">
                <!-- Logo -->
                <a href="index.html" class="text-2xl font-bold text-blue-600 dark:text-blue-400">
                    <i class="fas fa-utensils mr-2"></i>Foodie<span class="text-orange-500">Heaven</span>
                </a>

                <!-- Desktop Menu -->
                <div class="hidden md:flex items-center space-x-6">
                    <a href="index.html" class="nav-link"><i class="fas fa-home mr-1"></i> Home</a>
                    <a href="restaurants.html" class="nav-link"><i class="fas fa-store mr-1"></i> Restaurants</a>
                    <a href="about.html" class="nav-link"><i class="fas fa-info-circle mr-1"></i> About</a>
                    <a href="cart.html" class="relative nav-link">
                        <i class="fas fa-shopping-cart"></i>
                        <span id="cart-count" class="cart-badge">0</span>
                    </a>
                    <a href="login.html" class="nav-link"><i class="fas fa-sign-in-alt mr-1"></i> Login</a>
                    <button onclick="toggleDarkMode()" class="dark-mode-toggle">
                        <i class="fas fa-moon dark:hidden"></i>
                        <i class="fas fa-sun hidden dark:block"></i>
                    </button>
                </div>

                <!-- Mobile Menu Button -->
                <button onclick="toggleMobileMenu()" class="md:hidden text-gray-500 dark:text-gray-400 focus:outline-none">
                    <i class="fas fa-bars text-2xl"></i>
                </button>
            </div>

            <!-- Mobile Menu (Dropdown) -->
            <div id="mobile-menu" class="hidden md:hidden pb-3">
                <a href="index.html" class="block py-2 nav-link-mobile"><i class="fas fa-home mr-2"></i>Home</a>
                <a href="restaurants.html" class="block py-2 nav-link-mobile"><i class="fas fa-store mr-2"></i>Restaurants</a>
                 <a href="about.html" class="block py-2 nav-link-mobile"><i class="fas fa-info-circle mr-2"></i>About</a>
                <a href="cart.html" class="block py-2 nav-link-mobile relative">
                    <i class="fas fa-shopping-cart mr-2"></i>Cart
                    <span id="cart-count-mobile" class="cart-badge">0</span>
                </a>
                <a href="login.html" class="block py-2 nav-link-mobile"><i class="fas fa-sign-in-alt mr-2"></i>Login</a>
                <button onclick="toggleDarkMode()" class="block py-2 nav-link-mobile w-full text-left">
                    <i class="fas fa-moon dark:hidden mr-2"></i>
                    <i class="fas fa-sun hidden dark:inline mr-2"></i>
                    Toggle Theme
                </button>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="container mx-auto px-4 py-8">
        <!-- Page Header -->
        
<div class="text-center mb-12">
    <h1 id="category-title" class="text-4xl font-bold mb-4 dark:text-white animate-pulse">
        <i class="fas fa-store mr-3 text-orange-500"></i>Our Restaurants
    </h1>
    <p class="text-lg text-gray-600 dark:text-gray-300 max-w-2xl mx-auto transition-all duration-500 transform hover:scale-105">
        Discover the best dining experiences in town. Order from your favorite restaurants with just a few clicks.
    </p>
</div>
        
        <!-- Show All Button -->
        
<div id="filter-controls" class="mb-6 text-center hidden">
    <button onclick="showAllRestaurants()" class="bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white px-6 py-3 rounded-full font-semibold transition-all duration-300 transform hover:scale-105 shadow-lg hover:shadow-xl animate-bounce">
        <i class="fas fa-times mr-2"></i> Clear Filter - Show All Restaurants
    </button>
</div>
        
        <!-- Search and Filter Section -->
        <div class="mb-12 bg-white dark:bg-gray-700 p-6 rounded-xl shadow-md">
            <div class="flex flex-col md:flex-row md:items-center md:justify-between gap-4">
                <!-- Search Bar -->
                <div class="relative flex-1">
                    <input type="text" id="search" placeholder="Search restaurants or dishes..." 
                        onkeyup="applyFilters()"
                        class="w-full px-5 py-3 rounded-full border border-gray-300 dark:border-gray-600 focus:outline-none dark:bg-gray-600 dark:text-white search-input">
                    <button class="absolute right-3 top-3 text-gray-500 dark:text-gray-300">
                        <i class="fas fa-search"></i>
                    </button>
                </div>
                
                <!-- Filter Button (Mobile) -->
                <button onclick="toggleMobileFilters()" class="md:hidden flex items-center justify-center gap-2 px-4 py-3 bg-gray-100 dark:bg-gray-600 rounded-full">
                    <i class="fas fa-filter"></i>
                    <span>Filters</span>
                </button>
                
                <!-- Filter Options (Desktop) -->
                <div class="hidden md:flex items-center gap-4">
                    <select id="cuisine-filter" onchange="handleCuisineFilter(this.value)" 
                        class="px-4 py-2 bg-gray-100 dark:bg-gray-600 rounded-full border-none focus:ring-2 focus:ring-orange-500 dark:text-white">
                        <option value="">All Cuisines</option>
                        <option value="desi">Pakistani</option>
                        <option value="fastfood">Fast Food</option>
                        <option value="chinese">Chinese</option>
                        <option value="italian">Italian</option>
                    </select>
                    
                    <select id="sort-filter" onchange="applyFilters()" 
                        class="px-4 py-2 bg-gray-100 dark:bg-gray-600 rounded-full border-none focus:ring-2 focus:ring-orange-500 dark:text-white">
                        <option value="">Sort By</option>
                        <option value="rating">Rating</option>
                        <option value="delivery_time">Delivery Time</option>
                        <option value="min_order">Price: Low to High</option>
                    </select>
                </div>
            </div>
            
            <!-- Filter Options (Mobile Dropdown) -->
            <div id="mobile-filters" class="hidden mt-4 space-y-3">
                <select id="mobile-cuisine-filter" onchange="handleCuisineFilter(this.value)" 
                    class="w-full px-4 py-2 bg-gray-100 dark:bg-gray-600 rounded-full dark:text-white">
                    <option value="">All Cuisines</option>
                    <option value="desi">Pakistani</option>
                    <option value="fastfood">Fast Food</option>
                    <option value="chinese">Chinese</option>
                    <option value="italian">Italian</option>
                </select>
                
                <select id="mobile-sort-filter" onchange="applyFilters()" 
                    class="w-full px-4 py-2 bg-gray-100 dark:bg-gray-600 rounded-full dark:text-white">
                    <option value="">Sort By</option>
                    <option value="rating">Rating</option>
                    <option value="delivery_time">Delivery Time</option>
                    <option value="min_order">Price: Low to High</option>
                </select>
            </div>
        </div>

        <!-- Restaurants Grid -->
        <div id="restaurants-container" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
            <!-- Loading Skeleton -->
            <div class="restaurant-card-skeleton bg-white dark:bg-gray-700 rounded-xl shadow-md overflow-hidden">
                <div class="h-48 bg-gray-200 dark:bg-gray-600 animate-pulse"></div>
                <div class="p-6">
                    <div class="h-6 bg-gray-200 dark:bg-gray-600 rounded animate-pulse mb-4"></div>
                    <div class="h-4 bg-gray-200 dark:bg-gray-600 rounded animate-pulse mb-2 w-3/4"></div>
                    <div class="h-10 bg-gray-200 dark:bg-gray-600 rounded-lg animate-pulse mt-6"></div>
                </div>
            </div>
            
            <!-- Repeat skeleton for loading effect -->
            <div class="restaurant-card-skeleton bg-white dark:bg-gray-700 rounded-xl shadow-md overflow-hidden">
                <div class="h-48 bg-gray-200 dark:bg-gray-600 animate-pulse"></div>
                <div class="p-6">
                    <div class="h-6 bg-gray-200 dark:bg-gray-600 rounded animate-pulse mb-4"></div>
                    <div class="h-4 bg-gray-200 dark:bg-gray-600 rounded animate-pulse mb-2 w-3/4"></div>
                    <div class="h-10 bg-gray-200 dark:bg-gray-600 rounded-lg animate-pulse mt-6"></div>
                </div>
            </div>
            
            <div class="restaurant-card-skeleton bg-white dark:bg-gray-700 rounded-xl shadow-md overflow-hidden">
                <div class="h-48 bg-gray-200 dark:bg-gray-600 animate-pulse"></div>
                <div class="p-6">
                    <div class="h-6 bg-gray-200 dark:bg-gray-600 rounded animate-pulse mb-4"></div>
                    <div class="h-4 bg-gray-200 dark:bg-gray-600 rounded animate-pulse mb-2 w-3/4"></div>
                    <div class="h-10 bg-gray-200 dark:bg-gray-600 rounded-lg animate-pulse mt-6"></div>
                </div>
            </div>
        </div>
        
        <!-- Loading More Indicator -->
        <div id="loading-more" class="hidden text-center py-8">
            <div class="inline-block animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-orange-500"></div>
            <p class="mt-2 text-gray-600 dark:text-gray-300">Loading more restaurants...</p>
        </div>
        
        <!-- No Results Message (Hidden by Default) -->
        <div id="no-results" class="hidden text-center py-12">
            <i class="fas fa-utensils text-5xl text-gray-400 mb-4"></i>
            <h3 class="text-xl font-bold dark:text-white">No Restaurants Found</h3>
            <p class="text-gray-600 dark:text-gray-300 mt-2">Try adjusting your search or filters</p>
        </div>
    </main>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white py-12">
        <div class="container mx-auto px-4">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <div>
                    <h3 class="text-xl font-bold mb-4">Foodie Heaven</h3>
                    <p class="text-gray-400">Delivering happiness to your doorstep since 2023</p>
                </div>
                <div>
                    <h3 class="text-xl font-bold mb-4">Quick Links</h3>
                    <ul class="space-y-2">
                        <li><a href="index.html" class="text-gray-400 hover:text-white transition">Home</a></li>
                        <li><a href="restaurants.html" class="text-gray-400 hover:text-white transition">Restaurants</a></li>
                        <li><a href="cart.html" class="text-gray-400 hover:text-white transition">My Cart</a></li>
                    </ul>
                </div>
                <div>
                    <h3 class="text-xl font-bold mb-4">Contact Us</h3>
                    <p class="text-gray-400"><i class="fas fa-phone mr-2"></i> +92 300 1234567</p>
                    <p class="text-gray-400"><i class="fas fa-envelope mr-2"></i> contact@foodieheaven.com</p>
                </div>
            </div>
            <div class="border-t border-gray-700 mt-8 pt-6 text-center text-gray-400">
                <p>&copy; 2023 Foodie Heaven. All rights reserved.</p>
            </div>
        </div>
    </footer>

   <script>
    // API Base URL
    const API_BASE = "http://127.0.0.1:8000/api";

    // JWT Token Functions
    function saveToken(token) {
        localStorage.setItem('access_token', token);
    }

    function getToken() {
        return localStorage.getItem('access_token');
    }

    function removeToken() {
        localStorage.removeItem('access_token');
    }

    // Check if user is logged in
    function checkLogin() {
        return !!getToken();
    }

    // Auth API Call Function
    async function authApiCall(endpoint, options = {}) {
        const token = getToken();
        const defaultOptions = {
            headers: {
                'Content-Type': 'application/json',
                'Authorization': `Bearer ${token}`
            }
        };
        
        const mergedOptions = {
            ...defaultOptions,
            ...options,
            headers: {
                ...defaultOptions.headers,
                ...options.headers
            }
        };
        return fetch(API_BASE + endpoint, mergedOptions);
    }

    // Dark Mode Toggle
    function toggleDarkMode() {
        document.documentElement.classList.toggle('dark');
        localStorage.setItem('darkMode', document.documentElement.classList.contains('dark'));
    }

    // Mobile menu toggle
    function toggleMobileMenu() {
        const menu = document.getElementById('mobile-menu');
        if (menu) menu.classList.toggle('hidden');
    }

    // Mobile filters toggle
    function toggleMobileFilters() {
        const filters = document.getElementById('mobile-filters');
        if (filters) filters.classList.toggle('hidden');
    }

    // Update cart count
    function updateCartCount() {
        const cart = JSON.parse(localStorage.getItem('cart')) || [];
        document.getElementById('cart-count').textContent = cart.length;
        document.getElementById('cart-count-mobile').textContent = cart.length;
    }

    // View Menu Function
    function viewMenu(restaurantId) {
        window.location.href = `menu.html?restaurant_id=${restaurantId}`;
    }

    // Global variables
    let allRestaurants = [];

    // Handle cuisine filter selection
    function handleCuisineFilter(cuisine) {
        if (cuisine === 'chinese' || cuisine === 'italian') {
            window.location.href = `${cuisine}.html`;
        } else {
            document.getElementById('cuisine-filter').value = cuisine;
            document.getElementById('mobile-cuisine-filter').value = cuisine;
            applyFilters();
        }
    }

    // Apply all filters and sorting
    function applyFilters() {
        const searchQuery = document.getElementById('search').value.toLowerCase();
        const cuisineFilter = document.getElementById('cuisine-filter').value;
        const sortFilter = document.getElementById('sort-filter').value;
        
        let filteredRestaurants = [...allRestaurants];
        
        // Search filter
        if (searchQuery) {
            filteredRestaurants = filteredRestaurants.filter(restaurant =>
                restaurant.name.toLowerCase().includes(searchQuery) ||
                restaurant.description.toLowerCase().includes(searchQuery)
            );
        }
        
        // Cuisine filter
        if (cuisineFilter && cuisineFilter !== 'chinese' && cuisineFilter !== 'italian') {
            filteredRestaurants = filteredRestaurants.filter(restaurant =>
                restaurant.category === cuisineFilter
            );
        }
        
        // Sort filter
        if (sortFilter) {
            filteredRestaurants.sort((a, b) => {
                if (sortFilter === 'rating') return b.rating - a.rating;
                if (sortFilter === 'delivery_time') return a.delivery_time - b.delivery_time;
                if (sortFilter === 'min_order') return a.min_order - b.min_order;
                return 0;
            });
        }
        
        displayRestaurants(filteredRestaurants);
    }

    // Display restaurants function - UPDATED
    function displayRestaurants(restaurants) {
        const container = document.getElementById('restaurants-container');
        if (!container) return;
        
        if (restaurants.length === 0) {
            container.innerHTML = `
                <div class="col-span-3 text-center py-12">
                    <i class="fas fa-utensils text-5xl text-gray-400 mb-4"></i>
                    <h3 class="text-xl font-bold dark:text-white">No Restaurants Found</h3>
                    <p class="text-gray-600 dark:text-gray-300 mt-2">Try adjusting your search or filters</p>
                </div>
            `;
            return;
        }
        
        container.innerHTML = restaurants.map(restaurant => `
            <div class="restaurant-card bg-white dark:bg-gray-700 rounded-xl shadow-md overflow-hidden transition duration-300" data-category="${restaurant.category || ''}">
                <div class="relative">
                    <img src="${restaurant.image}" alt="${restaurant.name}" 
                        class="w-full h-48 object-cover hover:opacity-90 transition duration-300">
                    <span class="absolute top-3 right-3 bg-white dark:bg-gray-800 text-orange-500 px-2 py-1 rounded-full text-sm font-semibold">
                        <i class="fas fa-star mr-1"></i> ${restaurant.rating || '4.5'}
                    </span>
                </div>
                <div class="p-6">
                    <div class="flex justify-between items-start mb-2">
                        <h2 class="text- font-bold dark:text-white">${restaurant.name}</h2>
                        <span class="bg-gradient-to-r from-blue-500 to-purple-400 text-white text-xs px-3 py-1 rounded-full transform transition-all duration-300 hover:scale-105 hover:shadow-lg">
                            <i class="fas fa-tag mr-1"></i> ${restaurant.category || ''}
                        </span>
                    </div>
                    <p class="text-gray-600 dark:text-gray-300 mb-4">${restaurant.description}</p>
                    <div class="flex justify-between items-center">
                        <span class="text-gray-700 dark:text-gray-300 font-medium">
                            <i class="fas fa-motorcycle mr-1"></i> ${restaurant.delivery_time} min
                        </span>
                        <span class="text-gray-700 dark:text-gray-300 font-medium">
                            <i class="fas fa-money-bill-wave mr-1"></i> Rs. ${restaurant.min_order}
                        </span>
                    </div>
                    <button onclick="viewMenu(${restaurant.id})" 
                        class="mt-6 w-full bg-orange-500 hover:bg-orange-600 text-white py-3 rounded-lg transition duration-200 flex items-center justify-center gap-2">
                        View Menu <i class="fas fa-arrow-right"></i>
                    </button>
                </div>
            </div>
        `).join('');
        
        // Category filter apply karo after loading restaurants
        applyCategoryFilter();
    }

    // Category filter function - NEW
    function applyCategoryFilter() {
        // Get category from URL parameters
        const urlParams = new URLSearchParams(window.location.search);
        const category = urlParams.get('category');
        
        if (!category) {
            // Hide filter controls if no category is selected
            const filterControls = document.getElementById('filter-controls');
            if (filterControls) filterControls.classList.add('hidden');
            return;
        }
        
        // Show filter controls
        const filterControls = document.getElementById('filter-controls');
        if (filterControls) filterControls.classList.remove('hidden');
        
        // Get all restaurant elements
        const restaurantCards = document.querySelectorAll('.restaurant-card');
        
        // Hide all restaurants initially
        restaurantCards.forEach(card => {
            card.style.display = 'none';
        });
        
        // Show only restaurants that match the category
        restaurantCards.forEach(card => {
            const restaurantCategory = card.getAttribute('data-category');
            if (restaurantCategory === category) {
                card.style.display = 'block';
            }
        });
        
        // Update the page title to show the filter
        if (category) {
            const categoryTitle = document.getElementById('category-title');
            if (categoryTitle) {
                categoryTitle.textContent = `${category.charAt(0).toUpperCase() + category.slice(1)} Restaurants`;
            }
        }
    }

    // Show all restaurants function - NEW
    function showAllRestaurants() {
        // Get all restaurant elements
        const restaurantCards = document.querySelectorAll('.restaurant-card');
        
        // Show all restaurants
        restaurantCards.forEach(card => {
            card.style.display = 'block';
        });
        
        // Update the page title
        const categoryTitle = document.getElementById('category-title');
        if (categoryTitle) {
            categoryTitle.textContent = 'All Restaurants';
        }
        
        // Hide filter controls
        const filterControls = document.getElementById('filter-controls');
        if (filterControls) filterControls.classList.add('hidden');
        
        // Remove the category from URL without reloading
        window.history.replaceState({}, document.title, window.location.pathname);
    }

    // Load all restaurants - UPDATED
    async function loadRestaurants() {
        try {
            document.getElementById('no-results').classList.add('hidden');
            
            const response = await authApiCall('/restaurants/');
            if (!response.ok) throw new Error('Network response was not ok');
            
            allRestaurants = await response.json();
            displayRestaurants(allRestaurants);
            
        } catch (error) {
            console.error('Error:', error);
        }
    }

    // Initialize when page loads - UPDATED
    document.addEventListener('DOMContentLoaded', () => {
        if (!checkLogin()) {
            window.location.href = "login.html";
            return;
        }
        loadRestaurants();
        updateCartCount();
        
        // Check for saved dark mode preference
        if (localStorage.getItem('darkMode') === 'true') {
            document.documentElement.classList.add('dark');
        }
    });

    // Add glitter effect to button when category is filtered
function addButtonEffects() {
    const urlParams = new URLSearchParams(window.location.search);
    const category = urlParams.get('category');
    
    if (category) {
        const button = document.querySelector('#filter-controls button');
        if (button) {
            button.classList.add('glow-effect');
            
            // Add sparkle effect
            setInterval(() => {
                const sparkle = document.createElement('div');
                sparkle.className = 'absolute w-2 h-2 bg-yellow-300 rounded-full opacity-70';
                sparkle.style.top = Math.random() * 100 + '%';
                sparkle.style.left = Math.random() * 100 + '%';
                sparkle.style.animation = 'spin 1s linear infinite';
                button.appendChild(sparkle);
                
                // Remove sparkle after animation
                setTimeout(() => {
                    sparkle.remove();
                }, 1000);
            }, 300);
        }
    }
}

// Call this function after page loads
document.addEventListener('DOMContentLoaded', () => {
    // ... existing code ...
    
    // Add button effects after a short delay
    setTimeout(addButtonEffects, 1000);
});
    </script>
</body>
</html>